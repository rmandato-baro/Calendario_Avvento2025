<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Calendario dell'Avvento ‚Äì Classico</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>

    :root{
      --card-radius: 18px;
      --shadow-soft: 0 10px 25px rgba(15, 23, 42, 0.18);
      --accent: #f97316;
      --lock-bg: rgba(15,23,42,0.65);
    }

    * { box-sizing: border-box; }

    /* üé® SFONDO */
    body::before {
      content: "";
      position: fixed;
      inset: 0;
      background: url("img/sfondo_1.jpg") center/cover no-repeat fixed;
      z-index: -1;
    }

    /* üèõÔ∏è LAYOUT CENTRATO */
    body {
      margin:0;
      min-height:100vh;
      font-family: system-ui, sans-serif;
      color:#111827;
      display:flex;
      justify-content:center;
      align-items:flex-start;
      padding:24px 12px 40px;
    }

    .page-container{
      max-width:1100px;
      width:100%;
      border-radius:24px;
      padding:24px 16px 32px;
    }

    /* Griglia 5√ó5 centrata */
    .calendar-grid{
      display:grid;
      grid-template-columns: repeat(5, 1fr);
      gap:18px;
      padding:8px;
      width:100%;
    }

    .box-wrapper{
      display:flex;
      justify-content:center;
    }

    /* Box giorno */
    .day-box{
      position:relative;
      width:150px;
      height:150px;
      border-radius:18px;
      overflow:hidden;
      background:#ffffff;
      box-shadow:0 10px 25px rgba(15, 23, 42, 0.18);
      cursor:pointer;
      border:4px solid #ffffff;
      transition:.2s;
    }

    .day-box img{
      width:100%;
      height:100%;
      object-fit:cover;
      transition: transform .2s ease;
    }

    .day-box:hover img{ transform:scale(1.03); }

    /* Giorno 25 con bordino oro */
    .day-box-25{
      border:3px solid rgba(234,179,8,0.85);
    }

    /* Giorni bloccati */
    .day-box-locked{
      cursor:not-allowed;
    }
    .day-box-locked img{
      filter:blur(3px) brightness(0.93);
    }
    .day-box-locked::after{
      content:"‚≠ê";
      position:absolute;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:34px;
      color:#fff;
      background:linear-gradient(to bottom, rgba(15,23,42,.15), rgba(15,23,42,.55));
    }

    /* NEW badge */
    .new-badge{
      position:absolute;
      top:6px;
      right:6px;
      padding:4px 7px;
      font-size:11px;
      background:#e11d48;
      color:#fff;
      border-radius:999px;
      font-weight:bold;
      z-index:5;
      box-shadow:0 2px 6px rgba(0,0,0,0.25);
    }

    /* Popup */
    .popup{
      display:none;
      position:fixed;
      inset:0;
      background:rgba(0,0,0,0.8);
      justify-content:center;
      align-items:center;
      padding:20px;
      z-index:9999;
    }

    .popup-content{
      background:white;
      border-radius:22px;
      width:100%;
      max-width:420px;
      padding:20px;
      position:relative;
      text-align:center;
    }

    .popup-content img{
      width:100%;
      border-radius:16px;
      margin-bottom:12px;
    }

    .popup-close{
      position:absolute;
      top:12px;
      right:14px;
      font-size:28px;
      cursor:pointer;
      color:#6b7280;
    }

    .popup-close:hover{ color:#111; }

    .cta-button{
      display:inline-block;
      margin-top:12px;
      padding:10px 20px;
      background:#f97316;
      color:#fff;
      border-radius:999px;
      font-weight:600;
      text-decoration:none;
      transition:.2s;
    }
    .cta-button:hover{ transform:translateY(-2px); }

    /* Responsive */
    @media (max-width:900px){
      .calendar-grid{ grid-template-columns: repeat(4, 1fr); }
    }
    @media (max-width:600px){
      .calendar-grid{ grid-template-columns: repeat(3, 1fr); }
      .day-box{ width:100px; height:100px; }
    }
    @media (max-width:400px){
      .day-box{ width:90px; height:90px; }
    }

  </style>
</head>
<body>

  <div class="page-container">
    <div id="calendar" class="calendar-grid"></div>
  </div>

  <script>
    /* üîê GESTIONE DATE */
    function normalizeDate(d){
      const x=new Date(d);
      x.setHours(0,0,0,0);
      return x;
    }

    const today = normalizeDate(new Date());

    function isFuture(d){ return normalizeDate(d) > today; }
    function isToday(d){ return normalizeDate(d).getTime() === today.getTime(); }

    /* üìÖ CONFIG GIORNI */
    const days = [
      { day:1, imgSmall:"img/DEC_1.jpg",  imgBig:"img/1_BIG.jpg",  unlock:"2025-12-01", title:"Giorno 1", text:"Testo", link:"#", cta:"Scopri di pi√π" },
      { day:2, imgSmall:"img/DEC_2.jpg",  imgBig:"img/2_BIG.jpg",  unlock:"2025-12-02", title:"Giorno 2", text:"Testo", link:"#", cta:"Scopri di pi√π" },
      { day:3, imgSmall:"img/DEC_3.jpg",  imgBig:"img/3_BIG.jpg",  unlock:"2025-12-03", title:"Giorno 3", text:"Testo", link:"#", cta:"Scopri di pi√π" },
      { day:4, imgSmall:"img/DEC_4.jpg",  imgBig:"img/4_BIG.jpg",  unlock:"2025-12-04", title:"Giorno 4", text:"Testo", link:"#", cta:"Scopri di pi√π" },
      { day:5, imgSmall:"img/DEC_5.jpg",  imgBig:"img/5_BIG.jpg",  unlock:"2025-12-05", title:"Giorno 5", text:"Testo", link:"#", cta:"Scopri di pi√π" },
      { day:6, imgSmall:"img/DEC_6.jpg",  imgBig:"img/6_BIG.jpg",  unlock:"2025-12-06", title:"Giorno 6", text:"Testo", link:"#", cta:"Scopri di pi√π" },
      { day:7, imgSmall:"img/DEC_7.jpg",  imgBig:"img/7_BIG.jpg",  unlock:"2025-12-07", title:"Giorno 7", text:"Testo", link:"#", cta:"Scopri di pi√π" },
      { day:8, imgSmall:"img/DEC_8.jpg",  imgBig:"img/8_BIG.jpg",  unlock:"2025-12-08", title:"Giorno 8", text:"Testo", link:"#", cta:"Scopri di pi√π" },
      { day:9, imgSmall:"img/DEC_9.jpg",  imgBig:"img/9_BIG.jpg",  unlock:"2025-12-09", title:"Giorno 9", text:"Testo", link:"#", cta:"Scopri di pi√π" },
      { day:10,imgSmall:"img/DEC_10.jpg", imgBig:"img/10_BIG.jpg", unlock:"2025-12-10", title:"Giorno 10",text:"Testo", link:"#", cta:"Scopri di pi√π" },
      { day:11,imgSmall:"img/DEC_11.jpg", imgBig:"img/11_BIG.jpg", unlock:"2025-12-11", title:"Giorno 11",text:"Testo", link:"#", cta:"Scopri di pi√π" },
      { day:12,imgSmall:"img/DEC_12.jpg", imgBig:"img/12_BIG.jpg", unlock:"2025-12-12", title:"Giorno 12",text:"Testo", link:"#", cta:"Scopri di pi√π" },
      { day:13,imgSmall:"img/DEC_13.jpg", imgBig:"img/13_BIG.jpg", unlock:"2025-12-13", title:"Giorno 13",text:"Testo", link:"#", cta:"Scopri di pi√π" },
      { day:14,imgSmall:"img/DEC_14.jpg", imgBig:"img/14_BIG.jpg", unlock:"2025-12-14", title:"Giorno 14",text:"Testo", link:"#", cta:"Scopri di pi√π" },
      { day:15,imgSmall:"img/DEC_15.jpg", imgBig:"img/15_BIG.jpg", unlock:"2025-12-15", title:"Giorno 15",text:"Testo", link:"#", cta:"Scopri di pi√π" },
      { day:16,imgSmall:"img/DEC_16.jpg", imgBig:"img/16_BIG.jpg", unlock:"2025-12-16", title:"Giorno 16",text:"Testo", link:"#", cta:"Scopri di pi√π" },
      { day:17,imgSmall:"img/DEC_17.jpg", imgBig:"img/17_BIG.jpg", unlock:"2025-12-17", title:"Giorno 17",text:"Testo", link:"#", cta:"Scopri di pi√π" },
      { day:18,imgSmall:"img/DEC_18.jpg", imgBig:"img/18_BIG.jpg", unlock:"2025-12-18", title:"Giorno 18",text:"Testo", link:"#", cta:"Scopri di pi√π" },
      { day:19,imgSmall:"img/DEC_19.jpg", imgBig:"img/19_BIG.jpg", unlock:"2025-12-19", title:"Giorno 19",text:"Testo", link:"#", cta:"Scopri di pi√π" },
      { day:20,imgSmall:"img/DEC_20.jpg", imgBig:"img/20_BIG.jpg", unlock:"2025-12-20", title:"Giorno 20",text:"Testo", link:"#", cta:"Scopri di pi√π" },
      { day:21,imgSmall:"img/DEC_21.jpg", imgBig:"img/21_BIG.jpg", unlock:"2025-12-21", title:"Giorno 21",text:"Testo", link:"#", cta:"Scopri di pi√π" },
      { day:22,imgSmall:"img/DEC_22.jpg", imgBig:"img/22_BIG.jpg", unlock:"2025-12-22", title:"Giorno 22",text:"Testo", link:"#", cta:"Scopri di pi√π" },
      { day:23,imgSmall:"img/DEC_23.jpg", imgBig:"img/23_BIG.jpg", unlock:"2025-12-23", title:"Giorno 23",text:"Testo", link:"#", cta:"Scopri di pi√π" },
      { day:24,imgSmall:"img/DEC_24.jpg", imgBig:"img/24_BIG.jpg", unlock:"2025-12-24", title:"Giorno 24",text:"Testo", link:"#", cta:"Scopri di pi√π" },
      { day:25,imgSmall:"img/DEC_25.jpg", imgBig:"img/25_BIG.jpg", unlock:"2025-12-25", title:"Giorno 25",text:"Testo", link:"#", cta:"Scopri il regalo" }
    ];

    /* üîß CREA BOX */
    function createDayBox(day){
      const locked = isFuture(day.unlock);
      const todayFlag = isToday(day.unlock);

      const wrap = document.createElement("div");
      wrap.className="box-wrapper";

      const box = document.createElement("div");
      box.className="day-box";
      if(day.day === 25) box.classList.add("day-box-25");
      if(locked) box.classList.add("day-box-locked");

      const img = document.createElement("img");
      img.src = day.imgSmall;
      box.appendChild(img);

      if(todayFlag){
        const newTag = document.createElement("div");
        newTag.className="new-badge";
        newTag.textContent="NEW";
        box.appendChild(newTag);
      }

      box.addEventListener("click",()=>{
        if(locked) return;
        openPopup("popup"+day.day);
      });

      wrap.appendChild(box);
      return wrap;
    }

    /* üîß POPUP */
    function createPopup(day){
      const p = document.createElement("div");
      p.className="popup";
      p.id="popup"+day.day;

      p.onclick = ()=> p.style.display="none";

      const c = document.createElement("div");
      c.className="popup-content";
      c.onclick = e => e.stopPropagation();

      const x = document.createElement("div");
      x.className="popup-close";
      x.innerHTML="&times;";
      x.onclick = ()=> p.style.display="none";

      const img=document.createElement("img");
      img.src=day.imgBig;

      const h=document.createElement("h3");
      h.textContent=day.title;

      const t=document.createElement("p");
      t.textContent=day.text;

      const a=document.createElement("a");
      a.href=day.link;
      a.target="_blank";
      a.className="cta-button";
      a.textContent=day.cta;

      c.appendChild(x);
      c.appendChild(img);
      c.appendChild(h);
      c.appendChild(t);
      c.appendChild(a);
      p.appendChild(c);

      document.body.appendChild(p);
    }

    function openPopup(id){
      document.getElementById(id).style.display="flex";
    }

    /* RENDER */
    const grid=document.getElementById("calendar");
    days.forEach(d=>{
      grid.appendChild(createDayBox(d));
      createPopup(d);
    });

  </script>
</body>
</html>
