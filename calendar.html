<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Calendario dell'Avvento ‚Äì Classico</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    :root{
      --card-radius: 18px;
      --shadow-soft: 0 10px 25px rgba(15, 23, 42, 0.18);
      --accent: #f97316;
      --lock-bg: rgba(15,23,42,0.65);
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin:0;
      min-height:100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background:#f3f4f6;
      color:#111827;
      display:flex;
      justify-content:center;
      padding:24px 12px 40px;
    }

    .page-container{
      max-width:1100px;
      width:100%;
      background:#ffffff;
      border-radius:24px;
      box-shadow:0 18px 40px rgba(15,23,42,0.18);
      padding:24px 16px 32px;
    }

    .page-title{
      text-align:center;
      margin:0 0 6px;
      font-size:28px;
      font-weight:800;
      letter-spacing:0.05em;
      text-transform:uppercase;
    }

    .page-subtitle{
      text-align:center;
      margin:0 0 24px;
      font-size:14px;
      color:#6b7280;
    }

    /* üì¶ Griglia classica 5x5 */
    .calendar-grid{
      display:grid;
      grid-template-columns: repeat(5, minmax(0, 1fr));
      justify-content:center;
      gap:18px; /* stesso spazio righe/colonne */
      padding:8px;
    }

    /* I box hanno larghezza fissa e sono centrati dentro la colonna */
    .box-wrapper{
      display:flex;
      justify-content:center;
    }

    .day-box{
      position:relative;
      width:150px;
      height:150px;
      border-radius:var(--card-radius);
      overflow:hidden;
      background:#e5e7eb;
      box-shadow:var(--shadow-soft);
      cursor:pointer;
      transition: transform .2s ease, box-shadow .2s ease;
    }

    .day-box img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
      transition: filter .25s ease, transform .25s ease, opacity .25s ease;
    }

    .day-box:hover{
      transform: translateY(-2px);
      box-shadow:0 16px 30px rgba(15,23,42,0.22);
    }

    .day-box:hover img{
      transform:scale(1.03);
    }

    /* Bollino numero 
    .day-badge{
      position:absolute;
      top:8px;
      left:8px;
      width:30px;
      height:30px;
      border-radius:999px;
      background: radial-gradient(circle at 30% 30%, #fef3c7, #b91c1c);
      color:#fff;
      font-weight:700;
      font-size:14px;
      display:flex;
      align-items:center;
      justify-content:center;
      box-shadow:0 4px 10px rgba(0,0,0,0.4);
      z-index:2;
    }*/

    /* Box speciale per il 25 (stesso stile, solo un filo di glow) */
    .day-box-25{
      box-shadow:0 0 0 rgba(0,0,0,0);
      border:2px solid rgba(234,179,8,0.8);
    }

    /* üîí Bloccati: blur leggero, si vede l‚Äôimmagine sotto */
    .day-box-locked{
      cursor:not-allowed;
      pointer-events:none;
    }

    .day-box-locked img{
      filter: blur(3px) brightness(0.92);
    }

    .day-box-locked::after{
      content:"üîí";
      position:absolute;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:34px;
      background:linear-gradient(to bottom, rgba(15,23,42,0.2), var(--lock-bg));
      color:#f9fafb;
      text-shadow:0 2px 6px rgba(0,0,0,0.6);
      z-index:2;
    }

    /* üí¨ Popup */
    .popup{
      display:none;
      position:fixed;
      inset:0;
      background:rgba(15,23,42,0.85);
      justify-content:center;
      align-items:center;
      padding:20px;
      z-index:9999;
    }

    .popup-content{
      background:rgba(255,255,255,0.96);
      border-radius:22px;
      max-width:420px;
      width:100%;
      padding:22px 20px 20px;
      box-shadow:0 18px 40px rgba(0,0,0,0.7);
      position:relative;
      text-align:center;
    }

    .popup-content img{
      width:100%;
      max-height:260px;
      border-radius:16px;
      object-fit:cover;
      margin-bottom:14px;
    }

    .popup-day-label{
      font-size:13px;
      letter-spacing:.14em;
      text-transform:uppercase;
      color:#6b7280;
      margin-bottom:4px;
    }

    .popup-content h3{
      margin:4px 0 10px;
      font-size:20px;
      font-weight:700;
      color:#111827;
    }

    .popup-content p{
      margin:0 0 18px;
      font-size:15px;
      line-height:1.5;
      color:#374151;
    }

    .popup-close{
      position:absolute;
      top:10px;
      right:14px;
      font-size:26px;
      cursor:pointer;
      color:#9ca3af;
    }

    .popup-close:hover{
      color:#111827;
    }

    .cta-button{
      display:inline-block;
      padding:10px 18px;
      border-radius:999px;
      color:#fff;
      text-decoration:none;
      font-weight:600;
      background:var(--accent);
      border:none;
      transition:transform .15s ease, filter .15s ease;
    }

    .cta-button:hover{
      transform:translateY(-1px);
      filter:brightness(1.05);
    }

    /* üì± Responsive: pi√π bianco ai lati, box pi√π piccoli */
    @media (max-width: 900px){
      .page-container{
        max-width:750px;
      }
      .calendar-grid{
        grid-template-columns: repeat(4, minmax(0, 1fr));
      }
    }

    @media (max-width: 600px){
      .page-container{
        max-width:480px;
      }
      .calendar-grid{
        grid-template-columns: repeat(3, minmax(0, 1fr));
      }
      .day-box{
        width:100px;
        height:100px;
      }
    }

    @media (max-width: 400px){
      .day-box{
        width:90px;
        height:90px;
      }
    }
  </style>
</head>
<body>
  <div class="page-container">
    <h1 class="page-title">Calendario dell'Avvento</h1>
    <p class="page-subtitle">Apri una casella al giorno e scopri la sorpresa üéÅ</p>

    <div id="calendar" class="calendar-grid"></div>
  </div>

  <script>
    // Config giorni
    // Piccole: img/DEC_1.jpg ... img/DEC_25.jpg
    // Grandi:  img/1_BIG.jpg  ... img/25_BIG.jpg
    const days = [
      { day: 1,  imgSmall: 'img/DEC_1.jpg',  imgBig: 'img/1_BIG.jpg',  title: 'Giorno 1',  text: 'Testo del giorno 1',  link: '#', ctaLabel: 'Scopri di pi√π',     ctaColor: '#ec4899', unlockDate: '11/25/2025' },
      { day: 2,  imgSmall: 'img/DEC_2.jpg',  imgBig: 'img/2_BIG.jpg',  title: 'Giorno 2',  text: 'Testo del giorno 2',  link: '#', ctaLabel: 'Scopri di pi√π',     ctaColor: '#0ea5e9', unlockDate: '11/25/2025' },
      { day: 3,  imgSmall: 'img/DEC_3.jpg',  imgBig: 'img/3_BIG.jpg',  title: 'Giorno 3',  text: 'Testo del giorno 3',  link: '#', ctaLabel: 'Scopri di pi√π',     ctaColor: '#22c55e', unlockDate: '2025-12-03' },
      { day: 4,  imgSmall: 'img/DEC_4.jpg',  imgBig: 'img/4_BIG.jpg',  title: 'Giorno 4',  text: 'Testo del giorno 4',  link: '#', ctaLabel: 'Scopri di pi√π',     ctaColor: '#f97316', unlockDate: '2025-12-04' },
      { day: 5,  imgSmall: 'img/DEC_5.jpg',  imgBig: 'img/5_BIG.jpg',  title: 'Giorno 5',  text: 'Testo del giorno 5',  link: '#', ctaLabel: 'Scopri di pi√π',     ctaColor: '#e11d48', unlockDate: '2025-12-05' },
      { day: 6,  imgSmall: 'img/DEC_6.jpg',  imgBig: 'img/6_BIG.jpg',  title: 'Giorno 6',  text: 'Testo del giorno 6',  link: '#', ctaLabel: 'Scopri di pi√π',     ctaColor: '#0ea5e9', unlockDate: '2025-12-06' },
      { day: 7,  imgSmall: 'img/DEC_7.jpg',  imgBig: 'img/7_BIG.jpg',  title: 'Giorno 7',  text: 'Testo del giorno 7',  link: '#', ctaLabel: 'Scopri di pi√π',     ctaColor: '#22c55e', unlockDate: '2025-12-07' },
      { day: 8,  imgSmall: 'img/DEC_8.jpg',  imgBig: 'img/8_BIG.jpg',  title: 'Giorno 8',  text: 'Testo del giorno 8',  link: '#', ctaLabel: 'Scopri di pi√π',     ctaColor: '#f97316', unlockDate: '2025-12-08' },
      { day: 9,  imgSmall: 'img/DEC_9.jpg',  imgBig: 'img/9_BIG.jpg',  title: 'Giorno 9',  text: 'Testo del giorno 9',  link: '#', ctaLabel: 'Scopri di pi√π',     ctaColor: '#ec4899', unlockDate: '2025-12-09' },
      { day: 10, imgSmall: 'img/DEC_10.jpg', imgBig: 'img/10_BIG.jpg', title: 'Giorno 10', text: 'Testo del giorno 10', link: '#', ctaLabel: 'Scopri di pi√π',     ctaColor: '#22c55e', unlockDate: '2025-12-10' },
      { day: 11, imgSmall: 'img/DEC_11.jpg', imgBig: 'img/11_BIG.jpg', title: 'Giorno 11', text: 'Testo del giorno 11', link: '#', ctaLabel: 'Scopri di pi√π',     ctaColor: '#0ea5e9', unlockDate: '2025-12-11' },
      { day: 12, imgSmall: 'img/DEC_12.jpg', imgBig: 'img/12_BIG.jpg', title: 'Giorno 12', text: 'Testo del giorno 12', link: '#', ctaLabel: 'Scopri di pi√π',     ctaColor: '#f97316', unlockDate: '2025-12-12' },
      { day: 13, imgSmall: 'img/DEC_13.jpg', imgBig: 'img/13_BIG.jpg', title: 'Giorno 13', text: 'Testo del giorno 13', link: '#', ctaLabel: 'Scopri di pi√π',     ctaColor: '#e11d48', unlockDate: '2025-12-13' },
      { day: 14, imgSmall: 'img/DEC_14.jpg', imgBig: 'img/14_BIG.jpg', title: 'Giorno 14', text: 'Testo del giorno 14', link: '#', ctaLabel: 'Scopri di pi√π',     ctaColor: '#22c55e', unlockDate: '2025-12-14' },
      { day: 15, imgSmall: 'img/DEC_15.jpg', imgBig: 'img/15_BIG.jpg', title: 'Giorno 15', text: 'Testo del giorno 15', link: '#', ctaLabel: 'Scopri di pi√π',     ctaColor: '#0ea5e9', unlockDate: '2025-12-15' },
      { day: 16, imgSmall: 'img/DEC_16.jpg', imgBig: 'img/16_BIG.jpg', title: 'Giorno 16', text: 'Testo del giorno 16', link: '#', ctaLabel: 'Scopri di pi√π',     ctaColor: '#f97316', unlockDate: '2025-12-16' },
      { day: 17, imgSmall: 'img/DEC_17.jpg', imgBig: 'img/17_BIG.jpg', title: 'Giorno 17', text: 'Testo del giorno 17', link: '#', ctaLabel: 'Scopri di pi√π',     ctaColor: '#22c55e', unlockDate: '2025-12-17' },
      { day: 18, imgSmall: 'img/DEC_18.jpg', imgBig: 'img/18_BIG.jpg', title: 'Giorno 18', text: 'Testo del giorno 18', link: '#', ctaLabel: 'Scopri di pi√π',     ctaColor: '#0ea5e9', unlockDate: '2025-12-18' },
      { day: 19, imgSmall: 'img/DEC_19.jpg', imgBig: 'img/19_BIG.jpg', title: 'Giorno 19', text: 'Testo del giorno 19', link: '#', ctaLabel: 'Scopri di pi√π',     ctaColor: '#f97316', unlockDate: '2025-12-19' },
      { day: 20, imgSmall: 'img/DEC_20.jpg', imgBig: 'img/20_BIG.jpg', title: 'Giorno 20', text: 'Testo del giorno 20', link: '#', ctaLabel: 'Scopri di pi√π',     ctaColor: '#22c55e', unlockDate: '2025-12-20' },
      { day: 21, imgSmall: 'img/DEC_21.jpg', imgBig: 'img/21_BIG.jpg', title: 'Giorno 21', text: 'Testo del giorno 21', link: '#', ctaLabel: 'Scopri di pi√π',     ctaColor: '#0ea5e9', unlockDate: '2025-12-21' },
      { day: 22, imgSmall: 'img/DEC_22.jpg', imgBig: 'img/22_BIG.jpg', title: 'Giorno 22', text: 'Testo del giorno 22', link: '#', ctaLabel: 'Scopri di pi√π',     ctaColor: '#f97316', unlockDate: '2025-12-22' },
      { day: 23, imgSmall: 'img/DEC_23.jpg', imgBig: 'img/23_BIG.jpg', title: 'Giorno 23', text: 'Testo del giorno 23', link: '#', ctaLabel: 'Scopri di pi√π',     ctaColor: '#e11d48', unlockDate: '2025-12-23' },
      { day: 24, imgSmall: 'img/DEC_24.jpg', imgBig: 'img/24_BIG.jpg', title: 'Giorno 24', text: 'Testo del giorno 24', link: '#', ctaLabel: 'Scopri di pi√π',     ctaColor: '#22c55e', unlockDate: '2025-12-24' },
      { day: 25, imgSmall: 'img/DEC_ 25.jpg', imgBig: 'img/25_BIG.jpg', title: 'Giorno 25', text: 'Testo del giorno 25', link: '#', ctaLabel: 'Scopri il regalo', ctaColor: '#e11d48', unlockDate: '2025-12-25' }
    ];

    const todayStr = new Date().toISOString().slice(0,10);

    function isLocked(day){
      return todayStr < day.unlockDate;
    }

    function openPopup(id){
      const el = document.getElementById(id);
      if(el){ el.style.display = "flex"; }
    }

    function closePopup(el){
      el.style.display = "none";
    }

    function createDayBox(day){
      const locked = isLocked(day);
      const wrapper = document.createElement('div');
      wrapper.className = 'box-wrapper';

      const box = document.createElement('div');
      box.className = 'day-box';
      if(day.day === 25) box.classList.add('day-box-25');
      if(locked) box.classList.add('day-box-locked');

      const img = document.createElement('img');
      img.src = day.imgSmall;
      img.alt = day.title;
      box.appendChild(img);

      const badge = document.createElement('div');
      badge.className = 'day-badge';
      badge.textContent = day.day;
      box.appendChild(badge);

      if(!locked){
        box.addEventListener('click', () => openPopup('popup'+day.day));
      }

      wrapper.appendChild(box);
      return wrapper;
    }

    function createPopup(day){
      const popup = document.createElement('div');
      popup.className = 'popup';
      popup.id = 'popup'+day.day;
      popup.onclick = function(){ closePopup(this); };

      const content = document.createElement('div');
      content.className = 'popup-content';
      content.onclick = function(e){ e.stopPropagation(); };

      const close = document.createElement('div');
      close.className = 'popup-close';
      close.innerHTML = '&times;';
      close.onclick = function(e){
        e.stopPropagation();
        popup.style.display = 'none';
      };

      const label = document.createElement('div');
      label.className = 'popup-day-label';
      label.textContent = 'Giorno ' + day.day;

      const img = document.createElement('img');
      img.src = day.imgBig;
      img.alt = day.title;

      const h3 = document.createElement('h3');
      h3.textContent = day.title;

      const p = document.createElement('p');
      p.textContent = day.text;

      const a = document.createElement('a');
      a.href = day.link;
      a.target = '_blank';
      a.className = 'cta-button';
      a.textContent = day.ctaLabel;
      a.style.background = day.ctaColor;

      content.appendChild(close);
      content.appendChild(label);
      content.appendChild(img);
      content.appendChild(h3);
      content.appendChild(p);
      content.appendChild(a);
      popup.appendChild(content);

      document.body.appendChild(popup);
    }

    function renderCalendar(){
      const grid = document.getElementById('calendar');

      // 1‚Äì25 in ordine ‚áí 5x5 (25 sulla stessa riga)
      days.forEach(day => {
        grid.appendChild(createDayBox(day));
        createPopup(day);
      });
    }

    renderCalendar();
  </script>
</body>
</html>
